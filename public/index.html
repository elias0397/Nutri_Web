<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NutriWeb - Sistema de C√°lculo Nutricional</title>
  
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>üçé NutriWeb - Sistema de C√°lculo Nutricional</h1>

    <form id="formCalculos">
      <div class="section-header">Datos del paciente para c√°lculos:</div>
      
      <div class="form-grid">
        <div class="input-group full-width">
          <label for="nombre">Nombre y Apellido:</label>
          <input type="text" id="nombre" required />
        </div>

        <div class="input-group">
          <label for="fecha">Fecha:</label>
          <input type="date" id="fecha" required />
        </div>

        <div class="input-group">
          <label for="edad">Edad: <span class="unit">A√ëOS</span></label>
          <input type="number" id="edad" min="1" max="120" required />
        </div>

        <div class="input-group">
          <label for="peso">Peso actual: <span class="unit">KG</span></label>
          <input type="text" id="peso" required placeholder="Ej: 72,5" /> 
        </div>

        <div class="input-group">
          <label for="talla">Talla: <span class="unit">CM</span></label>
          <input type="text" id="talla" required placeholder="Ej: 167,8" />
          <div class="note info">La talla en metros para el IMC se calcula autom√°ticamente.</div>
        </div>

        <div class="input-group">
          <label for="sexo">Sexo:</label>
          <select id="sexo" required>
            <option value="">Selecciona...</option>
            <option value="masculino">Masculino</option>
            <option value="femenino">Femenino</option>
          </select>
        </div>

        <div class="input-group">
          <label for="cintura">CIA DE CINTURA: <span class="unit">CM</span></label>
          <input type="text" id="cintura" required placeholder="Ej: 92,5" />
          <div class="note">> 100 CM indica riesgo cardiovascular.</div>
        </div>

        <div class="input-group">
          <label for="muneca">CIA de Mu√±eca: <span class="unit">CM</span></label>
          <input type="text" id="muneca" required placeholder="Ej: 16,2" />
        </div>
        
        <div class="input-group full-width">
          <div class="table-help-container">
            <h4 style="margin-bottom: 5px; color: #555;">Tabla de Referencia Factor Actividad (FA)</h4>
            <table class="help-table">
              <thead>
                <tr>
                  <th>ACTIVIDAD</th>
                  <th>FACTOR (H/M)</th>
                  <th>DESCRIPCI√ìN</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Reposo Absoluto</td>
                  <td>1,0 / 1,0</td>
                  <td>En coma.</td>
                </tr>
                <tr>
                  <td>En Cama</td>
                  <td>1,1 / 1,1</td>
                  <td>Paciente hospitalizado, sin actividad.</td>
                </tr>
                <tr>
                  <td>Ambulatorio</td>
                  <td>1,2 / 1,2</td>
                  <td>Pacientes que ya pueden moverse libremente.</td>
                </tr>
                <tr>
                  <td>Muy Leve</td>
                  <td>1,3 / 1,3</td>
                  <td>Sedentaria, oficinista, coser, cocinar.</td>
                </tr>
                <tr>
                  <td>Leve</td>
                  <td>1,6 / 1,5</td>
                  <td>Caminata moderada, trabajos manuales livianos, docencia.</td>
                </tr>
                <tr>
                  <td>Moderada</td>
                  <td>1,7 / 1,6</td>
                  <td>Caminata intensa, llevar carga, ciclismo, bailar.</td>
                </tr>
                <tr>
                  <td>Intensa</td>
                  <td>2,1 / 1,9</td>
                  <td>Caminata en pendiente, tala de √°rboles, excavaci√≥n.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="input-group full-width">
          <div class="table-help-container">
            <h4 style="margin-bottom: 5px; color: #555;">Tabla de Referencia Factor de Injuria/Estr√©s (FI)</h4>
            <table class="help-table">
              <thead>
                <tr>
                  <th>GL√ìBULOS BLANCOS</th>
                  <th>GRADO DE INFECCI√ìN</th>
                  <th>FACTOR DE INJURIA</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>-</td>
                  <td>Injuria menor</td>
                  <td>1</td>
                </tr>
                <tr>
                  <td>10.000 - 11.999</td>
                  <td>Leve</td>
                  <td>1.2</td>
                </tr>
                <tr>
                  <td>12.000 - 14.999</td>
                  <td>Moderada</td>
                  <td>1.3</td>
                </tr>
                <tr>
                  <td>> 15.000</td>
                  <td>Grave</td>
                  <td>1.4</td>
                </tr>
                <tr>
                  <td>> 22.000</td>
                  <td>Sepsis</td>
                  <td>1.5</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
         <div class="input-group">
          <label for="factorActividad">Factor de Actividad (FA):</label>
          <input type="text" id="factorActividad" required placeholder="" />
        </div>
        <div class="input-group">
          <label for="factorInjuria">Factor de Injuria (FI):</label>
          <input type="text" id="factorInjuria" required placeholder="" />
        </div>
        </div>

      <div class="section-header">Peso Ideal (seg√∫n tabla)</div>
      <div class="form-grid">
        <div class="input-group">
          <label for="x_val">Valor 1 (tabla peso ideal):</label>
          <input type="text" id="x_val" placeholder="Ej: 71,2" />
        </div>
        <div class="input-group">
          <label for="y_val">Valor 2 (tabla peso idea):</label>
          <input type="text" id="y_val" placeholder="Ej: 80" />
        </div>
        <div class="input-group">
          <label for="z_val">Divisor (tabla peso idea):</label>
          <input type="text" id="z_val" placeholder="Ej: 2" />
        </div>

        <div class="input-group full-width">
          <label for="pesoIdealManual">Peso ideal calculado (autom√°tico) ‚Äî o ingresa manual si prefieres:</label>
          <input type="text" id="pesoIdealManual" placeholder="Se calcula desde (x+y)/z o puedes escribirlo manualmente" />
          <div class="small-note">Si completas X,Y,Z el sistema calcular√° autom√°ticamente el Peso ideal = (X + Y) / Z. Si quieres, puedes sobreescribir manualmente aqu√≠.</div>
        </div>
      </div>

      <div class="section-header">Dx. M√©dico:</div>
      <div class="input-group">
        <label for="dxMedico">Diagn√≥stico M√©dico:</label>
        <textarea id="dxMedico" placeholder="Ingrese diagn√≥stico m√©dico..."></textarea>
      </div>

      <div class="section-header">Dx. Nutricional:</div>
      <div class="input-group">
        <label for="dxNutricional">Diagn√≥stico Nutricional:</label>
        <textarea id="dxNutricional" placeholder="Siempre el peor rango..."></textarea>
        <div class="note info">Siempre el peor rango.</div>
      </div>

      <button type="submit">Realizar c√°lculos</button>
    </form>

    <div id="resultados" class="result-card" style="display:none;">
      <h2 style="text-align:center; margin-bottom:20px; color:#333;">üìä Resultados del An√°lisis</h2>

      <div class="section-header" style="margin-top:0;">
        Requerimientos Cal√≥ricos (Kcal)
      </div>
      
      <div class="result-row" style="background-color: #f0f0f0; font-weight: 700;">
        <div class="result-label">Base para el C√°lculo Energ√©tico (TMB):</div>
        <div class="result-value"><span id="pesoBaseUsado"></span></div>
      </div>
      
      <div class="result-row">
        <div class="result-label">Peso Ajustado (PA):</div>
        <div class="result-value"><span id="pesoAjustadoRes"></span> KG</div>
      </div>
      <div class="result-row">
        <div class="result-label">F√≥rmula Pr√°ctica (Kcal/Kg):</div>
        <div class="result-value"><span id="formulaPracticaRes"></span> Kcal.</div>
      </div>
      <div class="result-row">
        <div class="result-label">Harris Benedict (TMB):</div>
        <div class="result-value"><span id="harrisBenedictRes"></span> Kcal.</div>
      </div>
      <div class="result-row">
        <div class="result-label" style="font-weight: 800;">Valor Cal√≥rico Total (VCT):</div>
        <div class="result-value" style="font-weight: 800;"><span id="vctRes"></span> Kcal.</div>
      </div>
      <hr>
      <div class="section-header">
        C√°lculo Autom√°tico de IMC
      </div>
      <div class="result-row result-imc">
        <div class="result-label">IMC Calculado:</div>
        <div class="result-value"><span id="imcAutoRes"></span></div>
      </div>
      <div class="result-row result-imc">
        <div class="result-label">Categor√≠a IMC:</div>
        <div class="result-value"><span id="imcAutoChip" class=""></span></div>
      </div>
      <hr>
      <div class="result-row">
        <div class="result-label">Contextura corporal (talla/muneca):</div>
        <div class="result-value"><span id="ctxValor"></span></div>
      </div>

      <div class="result-row">
        <div class="result-label">Tipo de contextura:</div>
        <div class="result-value"><span id="ctxTipo"></span></div>
      </div>

      <div class="result-row">
        <div class="result-label">Peso ideal (kg):</div>
        <div class="result-value"><span id="pesoIdealRes"></span></div>
      </div>

      <div class="result-row">
        <div class="result-label">% Peso Ideal (PPI):</div>
        <div class="result-value"><span id="ppiRes"></span></div>
      </div>

      <div class="result-row">
        <div class="result-label">Interpretaci√≥n PPI:</div>
        <div class="result-value"><span id="ppiChip" class=""></span></div>
      </div>

      <div class="result-row">
        <div class="result-label">Relaci√≥n cintura / talla:</div>
        <div class="result-value"><span id="cinturaTalla"></span></div>
      </div>

      <div id="riesgoCintura" class="small-note" style="display:none; color:#c62828; font-weight:700; margin-top:12px;">
        Riesgo cardiovascular por relaci√≥n cintura/talla elevada (> 0.5)
      </div>

    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>